UPDATE `activity_template`
SET `entity_location` = '{\"CREATE\": \"createQueues_p0.basicSection.queueName\", \"UPDATE\": \"updateQueues_p0.tabsField.0.queueId\"}'
WHERE (`id` = 'queues');

UPDATE `page_template`
SET `definition` = '{ \"schema\": { \"type\": \"object\", \"properties\": { \"tabsField\": { \"title\": \"\", \"type\": \"array\", \"items\": [ { \"title\": \"\", \"type\": \"object\", \"properties\": { \"queueId\": { \"type\": \"string\", \"title\": \"Queue ID\" }, \"queueName\": { \"type\": \"string\", \"title\": \"Queue Name\" }, \"queueDesc\": { \"type\": \"string\", \"title\": \"Queue Description\", \"default\": \" \" }, \"queueTags\": { \"title\": \"Assigned Tags\", \"type\": \"array\", \"items\": { \"type\": \"string\", \"anyOf\": [ { \"enum\": [], \"type\": \"string\", \"enumNames\": [] } ], \"title\": \"Not Selected\" } } } }, { \"title\": \"\", \"type\": \"object\", \"properties\": { \"queueType\": { \"title\": \"Queue Type\", \"type\": \"string\", \"enum\": [ \"Live Chat\", \"Messaging\" ], \"enumNames\": [ \"Live Chat\", \"Messaging\" ], \"default\": \"Live Chat\" }, \"typingTimeout\": { \"title\": \"Typing Timeout (seconds)\", \"type\": \"number\", \"default\": 5 }, \"resourceFree\": { \"title\": \"Release Concurrency After\", \"type\": \"string\", \"enum\": [], \"enumNames\": [], \"default\": \"DISPOSE\" }, \"typingEnabled\": { \"title\": \"Typing Feature Enabled\", \"type\": \"string\", \"enum\": [ \"True\", \"False\" ], \"enumNames\": [ \"True\", \"False\" ], \"default\": \"True\" }, \"interLOBEnabled\": { \"title\": \"Accept InterLOB Chat\", \"type\": \"string\", \"enum\": [ \"True\", \"False\" ], \"enumNames\": [ \"True\", \"False\" ], \"default\": \"False\" }, \"coBrowseEnabled\": { \"title\": \"Enable Co-browse\", \"type\": \"boolean\", \"default\": false }, \"coViewEnabled\": { \"title\": \"Enable Co-view\", \"type\": \"boolean\", \"default\": false }, \"agentFTShare\": { \"title\": \"File Transfer for Visitor\", \"type\": \"string\", \"enum\": [ \"Deny\", \"Auto Accept\" ], \"enumNames\": [ \"Deny\", \"Auto Accept\" ], \"default\": \"Deny\" }, \"isAccountQueue\": { \"title\": \"Account Level Queue\", \"type\": \"boolean\", \"default\": false }, \"skill\": { \"title\": \"Choose skills\", \"type\": \"array\", \"items\": { \"type\": \"string\", \"anyOf\": [ { \"enum\": [], \"type\": \"string\", \"enumNames\": [] } ], \"title\": \"Not Selected\" } }, \"dispositionFormContent\": { \"title\": \"Upload disposition form\", \"type\": \"string\", \"default\": \"\" }, \"crmScriptContent\": { \"title\": \"CRM Script Content\", \"type\": \"string\", \"default\": \"\" }, \"crmDisplayText\": { \"title\": \"CRM Launch Button Label\", \"type\": \"string\", \"default\": \"\" }, \"crmAppId\": { \"title\": \"CRM App ID\", \"type\": \"string\", \"default\": \"\" }, \"isOutboundLOBQueueTransferEnabled\": { \"title\": \" Enable Outbound transfer for LOB\", \"type\": \"boolean\", \"default\": false }, \"visitorMailerConfigKey\": { \"title\": \"Visitor Mailer Configurations\", \"type\": \"string\", \"enum\": [], \"enumNames\": [], \"default\": \"\" }, \"agentMailerConfigKey\": { \"title\": \"Agent Mailer Configurations\", \"type\": \"string\", \"enum\": [], \"enumNames\": [], \"default\": \"\" }, \"visitorInactivityPeriod\": { \"title\": \"Visitor inactivity Period (seconds)*\", \"type\": \"string\", \"default\": \"-1\" }, \"agentResponseTime\": { \"title\": \"Agent Response Time (seconds)*\", \"type\": \"string\", \"default\": \"-1\" } }, \"dependencies\": { \"queueType\": { \"oneOf\": [ { \"properties\": { \"queueType\": { \"enum\": [ \"Messaging\" ] }, \"agentAffinityPeriod\": { \"title\": \"Agent Affinity Period (Minutes)\", \"type\": \"number\", \"default\": 120 }, \"conversationalInterval\": { \"title\": \"Conversational Interval (Hours)\", \"type\": \"number\", \"default\": 72 } } }, { \"properties\": { \"queueType\": { \"enum\": [ \"Live Chat\" ] }, \"queueLength\": { \"title\": \"Queue Length*\", \"type\": \"number\", \"default\": 0 }, \"queueTimeOut\": { \"title\": \"Queue Timeout (seconds)*\", \"type\": \"number\", \"default\": 0 } } } ] } } } ] } } }, \"uiSchema\": { \"tabsField\": { \"ui:options\": { \"type\": \"tabs\", \"size\": 10, \"hideTitle\": true, \"tabContainer\": { \"height\": \"50px\", \"width\": \"70%\" }, \"tabNames\": [ \"Basic Section\", \"Advanced Section\" ] }, \"items\": [ { \"queueName\": { \"ui:field\": \"text\", \"ui:options\": { \"inputType\": \"text\", \"fieldSize\": [ 6, 8 ] } }, \"queueId\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"queueDesc\": { \"ui:field\": \"text\", \"ui:options\": { \"inputType\": \"text\", \"fieldSize\": [ 6, 8 ] } }, \"queueTags\": { \"ui:field\": \"multiselect\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } } }, { \"ui:order\": [ \"queueType\", \"queueLength\", \"queueTimeOut\", \"typingTimeout\", \"resourceFree\", \"typingEnabled\", \"interLOBEnabled\", \"coBrowseEnabled\", \"coViewEnabled\", \"agentFTShare\", \"isAccountQueue\", \"skill\", \"dispositionFormContent\", \"crmScriptContent\", \"crmDisplayText\", \"crmAppId\", \"isOutboundLOBQueueTransferEnabled\", \"visitorMailerConfigKey\", \"agentMailerConfigKey\", \"visitorInactivityPeriod\", \"agentResponseTime\", \"agentAffinityPeriod\", \"conversationalInterval\" ], \"queueType\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"queueLength\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"queueTimeOut\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"typingTimeout\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"resourceFree\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"typingEnabled\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"interLOBEnabled\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"coBrowseEnabled\": { \"ui:field\": \"switch\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"coViewEnabled\": { \"ui:field\": \"switch\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"agentFTShare\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"isAccountQueue\": { \"ui:field\": \"switch\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"skill\": { \"ui:field\": \"multiselect\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"dispositionFormContent\": { \"ui:field\": \"text\", \"ui:options\": { \"inputType\": \"file\", \"fieldSize\": [ 6, 8 ] } }, \"crmScriptContent\": { \"ui:field\": \"textarea\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"crmDisplayText\": { \"ui:field\": \"textarea\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"crmAppId\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"isOutboundLOBQueueTransferEnabled\": { \"ui:field\": \"switch\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"visitorMailerConfigKey\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"agentMailerConfigKey\": { \"ui:field\": \"select\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"visitorInactivityPeriod\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"agentResponseTime\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"agentAffinityPeriod\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } }, \"conversationalInterval\": { \"ui:field\": \"text\", \"ui:options\": { \"fieldSize\": [ 6, 8 ] } } } ] } }, \"viewUiSchema\": { \"tabsField\": { \"ui:options\": { \"type\": \"tabs\", \"size\": 10, \"hideTitle\": true, \"tabContainer\": { \"height\": \"50px\", \"width\": \"70%\" }, \"tabNames\": [ \"Basic Section\", \"Advanced Section\" ] }, \"items\": [ { \"queueName\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"inputType\": \"text\", \"fieldSize\": [ 6, 8 ] } }, \"queueId\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"queueDesc\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"inputType\": \"text\", \"fieldSize\": [ 6, 8 ] } }, \"queueTags\": { \"ui:field\": \"multiselect\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } } }, { \"ui:order\": [ \"queueType\", \"queueLength\", \"queueTimeOut\", \"typingTimeout\", \"resourceFree\", \"typingEnabled\", \"interLOBEnabled\", \"coBrowseEnabled\", \"coViewEnabled\", \"agentFTShare\", \"isAccountQueue\", \"skill\", \"dispositionFormContent\", \"crmScriptContent\", \"crmDisplayText\", \"crmAppId\", \"isOutboundLOBQueueTransferEnabled\", \"visitorMailerConfigKey\", \"agentMailerConfigKey\", \"visitorInactivityPeriod\", \"agentResponseTime\", \"agentAffinityPeriod\", \"conversationalInterval\" ], \"queueType\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"queueLength\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"queueTimeOut\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"typingTimeout\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"resourceFree\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"typingEnabled\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"interLOBEnabled\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"coBrowseEnabled\": { \"ui:field\": \"switch\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"coViewEnabled\": { \"ui:field\": \"switch\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"agentFTShare\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"isAccountQueue\": { \"ui:field\": \"switch\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"skill\": { \"ui:field\": \"multiselect\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"dispositionFormContent\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"inputType\": \"file\", \"fieldSize\": [ 6, 8 ] } }, \"crmScriptContent\": { \"ui:field\": \"textarea\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"crmDisplayText\": { \"ui:field\": \"textarea\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"crmAppId\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"isOutboundLOBQueueTransferEnabled\": { \"ui:field\": \"switch\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"visitorMailerConfigKey\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"agentMailerConfigKey\": { \"ui:field\": \"select\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"visitorInactivityPeriod\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"agentResponseTime\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"agentAffinityPeriod\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } }, \"conversationalInterval\": { \"ui:field\": \"text\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 6, 8 ] } } } ] } }, \"fetch\": { \"list\": { \"listTag\": \"tabsField.0.queueTags\", \"listSkill\": [ \"tabsField.1.skill\" ], \"mailerConfigKey\": [ \"tabsField.1.agentMailerConfigKey\", \"tabsField.1.visitorMailerConfigKey\" ], \"resourceFree\": [ \"tabsField.1.resourceFree\" ] }, \"page\": \"updateQueues_p0\" } }'
WHERE (`id` = 'updateQueues_p0');

UPDATE `fetch_config_template` SET id = 1000 WHERE id = 11;
UPDATE `fetch_config_template` SET id = 11 WHERE id = 12;
UPDATE `fetch_config_template` SET id = 12 WHERE id = 1000;

UPDATE `fetch_config_template`
SET `resp_api_to_resp_ui` = '{\"objectTranslator\": \"function translate(apiData){var val = JSON.parse(JSON.parse(apiData).data.entity); var ea = val.entityAttributes; var ebd = val.entityBaseData;  var uiData = { \\\"tabsField\\\": [{ \\\"queueList\\\":ebd.entityId, \\\"queueName\\\":ebd.entityDisplayName, \\\"queueId\\\":ebd.entityId, \\\"queueDesc\\\":ea.queueDesc, \\\"queueType\\\": ea.queueType, \\\"queueTags\\\": [] }]}; if(ea.length>0) {uiData.tabsField[0].queueTags = ea.tags.split(\\\",\\\"); } return JSON.stringify(uiData);}\"}'
WHERE (`id` = '11');

UPDATE `fetch_config_template`
SET `resp_api_to_resp_ui` = '{\"objectTranslator\": \"function translate(apiData, entity){ var val = JSON.parse(JSON.parse(apiData).data.entity); var ea = val.entityAttributes; var ebd = val.entityBaseData; var uiData = { \\\"tabsField\\\": [{\\\"queueType\\\": \\\"Live Chat\\\",\\\"visitorInactivityPeriod\\\": ea.visitorInactivityPeriod,\\\"isOutboundLOBQueueTransferEnabled\\\": ea.isOutboundLOBQueueTransferEnabled,\\\"typingEnabled\\\": ea.typingEnabled,\\\"typingTimeout\\\": ea.typingTimeout,\\\"coBrowseEnabled\\\": ea.coBrowseEnabled,\\\"visitorMailerConfigKey\\\": ea.visitorMailerConfigKey,\\\"agentFTShare\\\": ea.agentFTShare,\\\"isAccountQueue\\\": ea.isAccountQueue,\\\"coViewEnabled\\\": ea.coViewEnabled,\\\"queueTimeOut\\\": ea.queueTimeOut,\\\"crmScriptContent\\\": ea.crmScriptContent,\\\"crmDisplayText\\\": ea.crmDisplayText,\\\"agentResponseTime\\\": ea.agentResponseTime,\\\"agentMailerConfigKey\\\": ea.agentMailerConfigKey,\\\"queueLength\\\": ea.queueLength,\\\"resourceFree\\\": ea.resourceFree,\\\"interLOBEnabled\\\": ea.interLOBEnabled,\\\"dispositionFormContent\\\": \\\"\\\",\\\"crmAppId\\\": ea.crmAppId, \\\"skill\\\": [] } ] }; if(ea.skill.length>0) {uiData.tabsField[0].skill = ea.skill.split(\\\",\\\"); } return JSON.stringify(uiData);}\"}'
WHERE (`id` = '12');

-- basic section (ohs) update
UPDATE `action`
SET `definition` = '{\"type\": \"REST\", \"method\": \"POST\", \"headers\": {\"apikey\": \"KtbDtdYYb7EUD4oajYCM8l9Nh7L0AgEc\", \"Content-Type\": \"application/x-www-form-urlencoded\"}, \"serviceId\": \"ohs\", \"relativePath\": \"/v1/ohs/adminEntity/update?entity=${body}\", \"bodyDefinition\": {}, \"objectTranslator\": \"function translate(pageData, entityId, clientId, accountId, env) { var uiData = JSON.parse(pageData).updateQueues_p0.tabsField[0]; var apiData = [ { \\\"entityAttributes\\\": { \\\"queueName\\\": uiData.queueName, \\\"queueDesc\\\": uiData.queueDesc, \\\"queueType\\\": uiData.queueType }, \\\"entityBaseData\\\": { \\\"accountId\\\": accountId + \\\"-account-default\\\", \\\"clientId\\\": \\\"nemo-client-\\\" + clientId, \\\"entityDisplayName\\\": uiData.queueName, \\\"entityType\\\": \\\"queue\\\", \\\"entityId\\\": uiData.queueId } } ];if (uiData.queueTags && uiData.queueTags.join(\\\",\\\") !== \\\"\\\") { apiData[0].entityAttributes.tags = uiData.queueTags.join(\\\",\\\") }; return JSON.stringify(apiData); }\"}'
WHERE (`id` = '16');

-- assist section update
UPDATE `action`
SET `definition` = '{\"type\": \"REST\", \"method\": \"POST\", \"headers\": {\"Content-Type\": \"application/x-www-form-urlencoded\"}, \"serviceId\": \"assist\", \"relativePath\": \"/en/admin/rest/ohs/update?entity=${body}\", \"bodyDefinition\": {}, \"objectTranslator\": \"function translate(pageData, entityId, clientId, accountId, env) { var uiData = JSON.parse(pageData).updateQueues_p0.tabsField; var uiDataB = uiData[0]; var uiDataA = uiData[1]; var apiData = [ { \\\"entityBaseData\\\": { \\\"accountId\\\": accountId + \\\"-account-default\\\", \\\"entityType\\\": \\\"chatQueue\\\", \\\"entityId\\\": uiDataB.queueId, \\\"entityDisplayName\\\": uiDataB.queueName }, \\\"entityAttributes\\\": { \\\"queueLength\\\": uiDataA.queueLength, \\\"queueTimeOut\\\": uiDataA.queueTimeOut, \\\"avgChatDuration\\\": uiDataA.avgChatDuration, \\\"chatDurationRefreshFactor\\\": uiDataA.chatDurationRefreshFactor, \\\"waitTimeBufferFactor\\\": uiDataA.waitTimeBufferFactor, \\\"typingTimeout\\\": uiDataA.typingTimeout, \\\"resourceFree\\\": uiDataA.resourceFree, \\\"typingEnabled\\\": uiDataA.typingEnabled, \\\"interLOBEnabled\\\": uiDataA.interLOBEnabled, \\\"coBrowseEnabled\\\": uiDataA.coBrowseEnabled, \\\"coViewEnabled\\\": uiDataA.coViewEnabled, \\\"agentFTShare\\\": uiDataA.agentFTShare, \\\"isAccountQueue\\\": uiDataA.isAccountQueue, \\\"isOutboundLOBQueueTransferEnabled\\\": uiDataA.isOutboundLOBQueueTransferEnabled, \\\"visitorMailerConfigKey\\\": uiDataA.visitorMailerConfigKey, \\\"agentMailerConfigKey\\\": uiDataA.agentMailerConfigKey, \\\"visitorInactivityPeriod\\\": uiDataA.visitorInactivityPeriod, \\\"agentResponseTime\\\": uiDataA.agentResponseTime, \\\"agentAffinityPeriod\\\": uiDataA.agentAffinityPeriod, \\\"conversationalInterval\\\": uiDataA.conversationalInterval } } ]; if (uiDataA.skill !== undefined && uiDataA.skill.join(\\\",\\\") !== \\\"\\\") { apiData[ 0 ].entityAttributes.skill = uiDataA.skill.join(\\\",\\\") }; for (var i = 0; i < 999999999; i++) { } return JSON.stringify(apiData); }\"}'
WHERE (`id` = '14');