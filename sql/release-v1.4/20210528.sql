use self_serve;

ALTER TABLE `entity_instance`
ADD COLUMN `polling_id` VARCHAR(128) NULL AFTER `activity_instance_id`;


INSERT INTO `fetch_config_template` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `fetch_for`, `headers`, `params`, `relativeurl`, `resp_api_to_resp_ui`, `translator_type`, `type`, `service_id`)
VALUES ('67', 'default.user', '2021-05-21 12:24:46.000000', 'default.user', '2021-05-21 12:24:46.000000', 'getBulkAgentsExcel', '{\"GenerateAuthToken\": \"Bearer \"}', '{\"contexts\": [\"accountId\", \"clientId\", \"componentAccountId\", \"componentClientId\"], \"constants\": {}}', '/en/hierarchy/rest/clients/${componentClientId}/accounts/${componentAccountId}/agents/upload/template', '{\"objectTranslator\": \"function translate(apiData) { return apiData; }\"}', 'NONE', 'PAGE_DATA_VALUE', 'assist');

INSERT INTO `fetch_config_template` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `fetch_for`, `headers`, `params`, `relativeurl`, `resp_api_to_resp_ui`, `translator_type`, `type`, `service_id`) VALUES
('68', 'default.user', '2021-05-21 12:24:46.000000', 'default.user', '2021-05-21 12:24:46.000000', 'createBulkAgentsTest_p0', '{}', '{\"contexts\": [\"accountId\"], \"constants\": {}}', '/actuator/health', '{\"objectTranslator\": \"function translate(values, entity, context) { try { context  = JSON.parse(context); var timestamp = new Date().getTime(); var uiData = { \\\"accountId\\\": context.accountId+timestamp}; } catch (e) {} return JSON.stringify(uiData); }\"}', 'JS', 'PAGE_DATA_VALUE', 'self');

INSERT INTO `fetch_config_template` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `fetch_for`, `headers`, `params`, `relativeurl`, `resp_api_to_resp_ui`, `translator_type`, `type`, `service_id`) VALUES
('69', 'default.user', '2021-05-21 12:24:46.000000', 'default.user', '2021-05-21 12:24:46.000000', 'createBulkAgentsLive_p0', '{}', '{\"contexts\": [\"accountId\"], \"constants\": {}}', '/actuator/health', '{\"objectTranslator\": \"function translate(values, entity, context) { try { context  = JSON.parse(context); var timestamp = new Date().getTime(); var uiData = { \\\"accountId\\\": context.accountId+timestamp}; } catch (e) {} return JSON.stringify(uiData); }\"}', 'JS', 'PAGE_DATA_VALUE', 'self');


INSERT INTO `action` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `definition`, `definition_type`, `description`, `type`, `response_definition`, `configs`) VALUES
('52', 'default.user', '2021-10-16 13:13:15.527428', 'Rhea.Fernandes@247.ai', '2021-06-04 15:59:44.875925', '{\"type\": \"REST\", \"method\": \"POST\", \"headers\": {\"uploadFile\": true, \"Content-Type\": \"multipart/form-data\", \"GenerateAuthToken\": \"Bearer \", \"referer\": \"https://salesdemo.portal.assist.staging.247-inc.net\"}, \"serviceId\": \"assist\", \"uploadFile\": true, \"idLookupKeys\": null, \"relativePath\": \"/en/hierarchy/rest/clients/${componentClientId}/accounts/${componentAccountId}/agents/upload/${uploadOption}\", \"bodyDefinition\": {}, \"requestBodyKey\": \"uploadfile\", \"restClientType\": \"MULTIPART_FILE\", \"idLookupRequired\": false, "getPathParamFromPageData": true,  \"objectTranslator\": \"function translate(pageData) { var uiData = JSON.parse(pageData).createBulkAgentsTest_p0 ; var uploadOption = uiData.stepTwo.selectType; return uploadOption; }\", \"preFetchDefinition\": null, \"prefetchRequiredForLiveOnly\": false}', 'BULK', 'Create Bulk Agents Test', 'REST', '{\"entityResponseTranslator\": \"var ApiResponse = function(_status, _message){ this.status = _status; this.message = _message; }; function translate(responseData) { try { var response = JSON.parse(responseData); if(response.Error !== undefined) { return new ApiResponse(\\\"ERROR\\\", response.Error); } if (response.errorCode !== undefined) { return new ApiResponse(\\\"ERROR\\\", response.errorMessage); } return new ApiResponse(\\\"SUCCESS\\\", response.uploadId); } catch (e) { return new ApiResponse(\\\"ERROR\\\", \\\"Error while processing your request\\\"); } }\"}', '{\"PATH_PARAMS\": {\"type\": \"PATH_PARAMS\", \"pathParams\": [{\"key\": \"uploadOption\"}]}}');

INSERT INTO `action` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `definition`, `definition_type`, `description`, `type`, `response_definition`, `configs`) VALUES
('53', 'default.user', '2021-06-03 13:13:15.527428', 'Rhea.Fernandes@247.ai', '2021-06-04 15:59:44.877121', '{\"type\": \"REST\", \"method\": \"GET\", \"headers\": {\"GenerateAuthToken\": \"Bearer \"}, \"serviceId\": \"assist\", \"uploadFile\": false, \"idLookupKeys\": null, \"relativePath\": \"/en/hierarchy/rest/clients/nemo-client-salesdemo/accounts/salesdemo-account-default/agents/upload/status/${uploadId}\", \"bodyDefinition\": {}, \"requestBodyKey\": null, \"restClientType\": null, \"idLookupRequired\": false, \"objectTranslator\": \"function translate(pageData, entityId, clientId, accountId, env) {  return \\\"\\\"; }\", \"preFetchDefinition\": null, \"prefetchRequiredForLiveOnly\": false}', 'BULK', 'Get Bulk Agents Test Status', 'REST', '{\"entityResponseTranslator\": \"var ApiResponse = function(_status, _message){ this.status = _status; this.message = _message; }; function translate(responseData) { try { var responseIntermediate = JSON.parse(responseData); var response = JSON.parse(responseIntermediate); if (response.status === \\\"completed\\\") { return new ApiResponse(\\\"SUCCESS\\\", \\\"Successfully processed \\\" + response.processedRecords + \\\" rows out of \\\" + response.totalRecords + \\\" rows\\\"); } else if(response.status === \\\"empty\\\") { return new ApiResponse(\\\"ERROR_STOP\\\", \\\"No records found to add agents\\\"); } else if(response.status === \\\"validation_error\\\" || response.status === \\\"upload_error\\\") { return new ApiResponse(\\\"ERROR_STOP\\\", \\\"There was an error in \\\" + (response.totalRecords - response.processedRecords) + \\\" rows, Successfully processed \\\" + response.processedRecords + \\\" rows\\\"); } else return new ApiResponse(\\\"ERROR\\\", response) } catch (e) { return new ApiResponse(\\\"ERROR\\\", \\\"Error while processing your request\\\"); } }\"}', '{\"POLL\": {\"type\": \"POLL\", \"retryCount\": 3000, \"retryInterval\": 30000}}');

INSERT INTO `action` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `definition`, `definition_type`, `description`, `type`, `response_definition`, `configs`) VALUES
('54', 'default.user', '2021-10-16 13:13:15.527428', 'Dhrishya.R@247-inc.com', '2021-06-04 19:04:29.625915', '{\"type\": \"REST\", \"method\": \"POST\", \"headers\": {\"uploadFile\": \"true\", \"Content-Type\": \"multipart/form-data\", \"GenerateAuthToken\": \"Bearer \", \"referer\": \"https://salesdemo.portal.assist.staging.247-inc.net\"}, \"serviceId\": \"assist\", \"uploadFile\": true, \"idLookupKeys\": null, \"relativePath\": \"/en/hierarchy/rest/clients/${componentClientId}/accounts/${componentAccountId}/agents/upload/${uploadAction}\", \"bodyDefinition\": {}, \"requestBodyKey\": \"uploadfile\", \"restClientType\": \"MULTIPART_FILE\", \"idLookupRequired\": false,"getPathParamFromPageData": true,  \"objectTranslator\": \"function translate(pageData) { var uiData = JSON.parse(pageData).createBulkAgentsLive_p0 ; var uploadOption = uiData.stepTwo.selectType; return uploadOption; }\", \"preFetchDefinition\": null, \"prefetchRequiredForLiveOnly\": false}', 'BULK', 'Create Bulk Agents Live', 'REST', '{\"entityResponseTranslator\": \"var ApiResponse = function(_status, _message){ this.status = _status; this.message = _message; }; function translate(responseData) { try { var response = JSON.parse(responseData); if(response.Error !== undefined) { return new ApiResponse(\\\"ERROR\\\", response.Error); } if (response.errorCode !== undefined) { return new ApiResponse(\\\"ERROR\\\", response.errorMessage); } return new ApiResponse(\\\"SUCCESS\\\", response.uploadId); } catch (e) { return new ApiResponse(\\\"ERROR\\\", \\\"Error while processing your request\\\"); } }\"}', '{\"PATH_PARAMS\": {\"type\": \"PATH_PARAMS\", \"pathParams\": [{\"key\": \"uploadOption\"}]}}');

INSERT INTO `action` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `definition`, `definition_type`, `description`, `type`, `response_definition`, `configs`) VALUES
('55', 'default.user', '2021-06-03 13:13:15.527428', 'Dhrishya.R@247-inc.com', '2021-06-04 19:04:29.403044', '{\"type\": \"REST\", \"method\": \"GET\", \"headers\": {\"GenerateAuthToken\": \"Bearer \"}, \"serviceId\": \"assist\", \"uploadFile\": false, \"idLookupKeys\": null, \"relativePath\": \"/en/hierarchy/rest/clients/nemo-client-salesdemo/accounts/salesdemo-account-default/agents/upload/status/${uploadId}\", \"bodyDefinition\": {}, \"requestBodyKey\": null, \"restClientType\": null, \"idLookupRequired\": false, \"objectTranslator\": \"function translate(pageData, entityId, clientId, accountId, env) {  return \\\"\\\"; }\", \"preFetchDefinition\": null, \"prefetchRequiredForLiveOnly\": false}', 'BULK', 'Get Bulk Agents Live Status', 'REST', '{\"entityResponseTranslator\": \"var ApiResponse = function(_status, _message){ this.status = _status; this.message = _message; }; function translate(responseData) { try { var responseIntermediate = JSON.parse(responseData); var response = JSON.parse(responseIntermediate); if (response.status === \\\"completed\\\") { return new ApiResponse(\\\"SUCCESS\\\", \\\"Successfully processed \\\" + response.processedRecords + \\\" rows out of \\\" + response.totalRecords + \\\" rows\\\"); } else if(response.status === \\\"empty\\\") { return new ApiResponse(\\\"ERROR_STOP\\\", \\\"No records found to add agents\\\"); } else if(response.status === \\\"validation_error\\\" || response.status === \\\"upload_error\\\") { return new ApiResponse(\\\"ERROR_STOP\\\", \\\"There was an error in \\\" + (response.totalRecords - response.processedRecords) + \\\" rows, Successfully processed \\\" + response.processedRecords + \\\" rows\\\"); } else return new ApiResponse(\\\"ERROR\\\", response) } catch (e) { return new ApiResponse(\\\"ERROR\\\", \\\"Error while processing your request\\\"); } }\"}', '{\"POLL\": {\"type\": \"POLL\", \"retryCount\": 3000, \"retryInterval\": 30000}}');


INSERT INTO `action_workflow` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `action_id`, `activity_template_id`) VALUES
('58', 'default.user', '2021-05-24 17:44:12.124342', 'default.user', '2021-05-24 17:44:12.124342', '52', 'userTest');


INSERT INTO `action_workflow` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `action_id`, `activity_template_id`) VALUES
('59', 'default.user', '2021-05-24 17:44:12.124342', 'default.user', '2021-05-24 17:44:12.124342', '53', 'userTest');


INSERT INTO `action_workflow` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `action_id`, `activity_template_id`) VALUES
('60', 'default.user', '2021-05-24 17:44:12.124342', 'default.user', '2021-05-24 17:44:12.124342', '54', 'userLive');

INSERT INTO `action_workflow` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `action_id`, `activity_template_id`) VALUES
('61', 'default.user', '2021-05-24 17:44:12.124342', 'default.user', '2021-05-24 17:44:12.124342', '55', 'userLive');


INSERT INTO `action_dependencies` (`action_id`, `dependent_action_id`)
VALUES ('53', '52');
INSERT INTO `action_dependencies` (`action_id`, `dependent_action_id`)
VALUES ('55', '54');

INSERT INTO `page_template` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `definition`, `description`, `title`, `type`) VALUES
('createBulkAgentsTest_p0', 'default.user', '2021-05-21 17:44:46.000000', 'default.user', '2021-05-21 17:44:46.000000', '{ \"schema\": { \"type\": \"object\", \"properties\": { \"banner\": { \"type\": \"string\" }, \"accountId\": { \"type\": \"string\", \"title\": \"\" }, \"uploadKey\": { \"title\": \"\", \"type\": \"array\", \"default\": [ \"uploadfile\" ] }, \"stepOne\": { \"type\": \"object\", \"title\": \"BULK_AGENTS_STEP_ONE_TITLE\", \"properties\": { \"textOne\": { \"type\": \"string\", \"title\": \"BULK_AGENTS_STEP_ONE_DESCRIPTION\", \"default\": \"\" }, \"template\": { \"title\": \"\", \"type\": \"string\", \"default\": \"\" } } }, \"stepTwo\": { \"type\": \"object\", \"title\": \"BULK_AGENTS_STEP_TWO_TITLE\", \"properties\": { \"textTwo\": { \"type\": \"string\", \"title\": \"BULK_AGENTS_STEP_TWO_DESCRIPTION\" } } }, \"stepThree\": { \"type\": \"object\", \"title\": \"BULK_AGENTS_STEP_THREE_TITLE\", \"properties\": { \"textThree\": { \"type\": \"string\", \"title\": \"BULK_AGENTS_STEP_THREE_DESCRIPTION\", \"default\": \"\" } } }, \"uploadfile\": { \"title\": \"\", \"type\": \"string\", \"default\": \"\" } } }, \"uiSchema\": { \"banner\": { \"ui:field\": \"infobanner\", \"ui:options\": { \"size\": 10, \"bannerTitle\": \"BULKAGENTS_INFOBANNER_TITLE\", \"bannerDescription\": \"BULKAGENTS_INFOTEXT\" } }, \"accountId\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"uploadKey\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"stepOne\": { \"textOne\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 12, 12 ], \"size\": 6, \"styles\": { \"container\": { \"marginBottom\": \"15px\", \"marginRight\": \"20px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } }, \"template\": { \"ui:field\": \"wrapper\", \"ui:options\": { \"fieldSize\": [ 0, 12 ], \"size\": 6, \"type\": \"secondary\", \"component\": \"button\", \"isAccessTokenRequired\": true, \"event\": \"onClick\", \"downloadFile\": { \"name\": \"BulkUserCreationTemplate-generated.xls\", \"fileType\": \"application/vnd.ms-excel\", \"readType\": \"arrayBuffer\" }, \"template\": [ { \"name\": \"reqUrl\", \"value\": \"{serviceBaseUrl}/client/{clientId}/account/{accountId}/env/TEST/entity/bulkagents/type/PAGE_DATA_VALUE/download/getBulkAgentsExcel\" }, { \"name\": \"fileName\", \"value\": \"{clientId}-{accountId}-BulkUserCreationTemplate-generated.xls\" } ], \"textStyles\": { \"fontSize\": 13, \"fontWeight\": \"bold\", \"display\": \"inline-flex\", \"lineHeight\": \"25px\", \"verticalAlign\": \"top\" }, \"displayName\": \"Download\" } } }, \"stepTwo\": { \"textTwo\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"stepThree\": { \"ui:options\": { \"disableSeparator\": true }, \"textThree\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"uploadfile\": { \"ui:field\": \"text\", \"ui:options\": { \"fileReadType\": \"dataurl\", \"mediaType\": \"excel\", \"inputType\": \"file\", \"displayValueType\": \"fileName\", \"inputFileButtonText\": \"BROWSE\", \"showDownloadButton\": false, \"fieldSize\": [ 12, 12 ], \"size\": 10, \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"viewUiSchema\": { \"banner\": { \"ui:field\": \"infobanner\", \"ui:options\": { \"size\": 10, \"bannerTitle\": \"BULKAGENTS_INFOBANNER_TITLE\", \"bannerDescription\": \"BULKAGENTS_INFOTEXT\" } }, \"accountId\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"uploadKey\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"stepOne\": { \"textOne\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 12, 12 ], \"size\": 6, \"styles\": { \"container\": { \"marginBottom\": \"15px\", \"marginRight\": \"20px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } }, \"template\": { \"ui:field\": \"wrapper\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 0, 12 ], \"size\": 6, \"type\": \"secondary\", \"component\": \"button\", \"isAccessTokenRequired\": true, \"event\": \"onClick\", \"downloadFile\": { \"name\": \"BulkUserCreationTemplate-generated.xls\", \"fileType\": \"application/vnd.ms-excel\", \"readType\": \"arrayBuffer\" }, \"template\": [ { \"name\": \"reqUrl\", \"value\": \"{serviceBaseUrl}/client/{clientId}/account/{accountId}/env/TEST/entity/bulkAgents/type/PAGE_DATA_VALUE/download/getBulkAgentsExcel\" }, { \"name\": \"fileName\", \"value\": \"{clientId}-{accountId}-BulkUserCreationTemplate-generated.xls\" } ], \"textStyles\": { \"fontSize\": 13, \"fontWeight\": \"bold\", \"display\": \"inline-flex\", \"lineHeight\": \"25px\", \"verticalAlign\": \"top\" }, \"displayName\": \"Download\" } } }, \"stepTwo\": { \"textTwo\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"stepThree\": { \"ui:options\": { \"disableSeparator\": true }, \"textThree\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"uploadfile\": { \"ui:field\": \"text\", \"ui:options\": { \"fileReadType\": \"dataurl\", \"mediaType\": \"excel\", \"inputType\": \"file\", \"displayValueType\": \"fileName\", \"inputFileButtonText\": \"BROWSE\", \"showDownloadButton\": false, \"fieldSize\": [ 12, 12 ], \"size\": 10, \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"fetch\": { \"page\": \"createBulkAgentsTest_p0\" }, \"validation\": { \"enabled\": true, \"type\": \"onchange\" } }', 'Bulk Agents Test', 'Bulk Agents Test Create', 'BULK');

INSERT INTO `page_template` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `definition`, `description`, `title`, `type`) VALUES
('createBulkAgentsLive_p0', 'default.user', '2021-05-21 17:44:46.000000', 'default.user', '2021-05-21 17:44:46.000000', '{ \"schema\": { \"type\": \"object\", \"properties\": { \"banner\": { \"type\": \"string\" }, \"accountId\": { \"type\": \"string\", \"title\": \"\" }, \"uploadKey\": { \"title\": \"\", \"type\": \"array\", \"default\": [ \"uploadfile\" ] }, \"stepOne\": { \"type\": \"object\", \"title\": \"BULK_AGENTS_STEP_ONE_TITLE\", \"properties\": { \"textOne\": { \"type\": \"string\", \"title\": \"BULK_AGENTS_STEP_ONE_DESCRIPTION\", \"default\": \"\" }, \"template\": { \"title\": \"\", \"type\": \"string\", \"default\": \"\" } } }, \"stepTwo\": { \"type\": \"object\", \"title\": \"BULK_AGENTS_STEP_TWO_TITLE\", \"properties\": { \"textTwo\": { \"type\": \"string\", \"title\": \"BULK_AGENTS_STEP_TWO_DESCRIPTION\" } } }, \"stepThree\": { \"type\": \"object\", \"title\": \"BULK_AGENTS_STEP_THREE_TITLE\", \"properties\": { \"textThree\": { \"type\": \"string\", \"title\": \"BULK_AGENTS_STEP_THREE_DESCRIPTION\", \"default\": \"\" } } }, \"uploadfile\": { \"title\": \"\", \"type\": \"string\", \"default\": \"\" } } }, \"uiSchema\": { \"banner\": { \"ui:field\": \"infobanner\", \"ui:options\": { \"size\": 10, \"bannerTitle\": \"BULKAGENTS_INFOBANNER_TITLE\", \"bannerDescription\": \"BULKAGENTS_INFOTEXT\" } }, \"accountId\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"uploadKey\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"stepOne\": { \"textOne\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 12, 12 ], \"size\": 6, \"styles\": { \"container\": { \"marginBottom\": \"15px\", \"marginRight\": \"20px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } }, \"template\": { \"ui:field\": \"wrapper\", \"ui:options\": { \"fieldSize\": [ 0, 12 ], \"size\": 6, \"type\": \"secondary\", \"component\": \"button\", \"isAccessTokenRequired\": true, \"event\": \"onClick\", \"downloadFile\": { \"name\": \"BulkUserCreationTemplate-generated.xls\", \"fileType\": \"application/vnd.ms-excel\", \"readType\": \"arrayBuffer\" }, \"template\": [ { \"name\": \"reqUrl\", \"value\": \"{serviceBaseUrl}/client/{clientId}/account/{accountId}/env/TEST/entity/bulkagents/type/PAGE_DATA_VALUE/download/getBulkAgentsExcel\" }, { \"name\": \"fileName\", \"value\": \"{clientId}-{accountId}-BulkUserCreationTemplate-generated.xls\" } ], \"textStyles\": { \"fontSize\": 13, \"fontWeight\": \"bold\", \"display\": \"inline-flex\", \"lineHeight\": \"25px\", \"verticalAlign\": \"top\" }, \"displayName\": \"Download\" } } }, \"stepTwo\": { \"textTwo\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"stepThree\": { \"ui:options\": { \"disableSeparator\": true }, \"textThree\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"uploadfile\": { \"ui:field\": \"text\", \"ui:options\": { \"fileReadType\": \"dataurl\", \"mediaType\": \"excel\", \"inputType\": \"file\", \"displayValueType\": \"fileName\", \"inputFileButtonText\": \"BROWSE\", \"showDownloadButton\": false, \"fieldSize\": [ 12, 12 ], \"size\": 10, \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"viewUiSchema\": { \"banner\": { \"ui:field\": \"infobanner\", \"ui:options\": { \"size\": 10, \"bannerTitle\": \"BULKAGENTS_INFOBANNER_TITLE\", \"bannerDescription\": \"BULKAGENTS_INFOTEXT\" } }, \"accountId\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"uploadKey\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"styles\": { \"container\": { \"display\": \"none\" }, \"label\": {}, \"field\": {} } } }, \"stepOne\": { \"textOne\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 12, 12 ], \"size\": 6, \"styles\": { \"container\": { \"marginBottom\": \"15px\", \"marginRight\": \"20px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } }, \"template\": { \"ui:field\": \"wrapper\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 0, 12 ], \"size\": 6, \"type\": \"secondary\", \"component\": \"button\", \"isAccessTokenRequired\": true, \"event\": \"onClick\", \"downloadFile\": { \"name\": \"BulkUserCreationTemplate-generated.xls\", \"fileType\": \"application/vnd.ms-excel\", \"readType\": \"arrayBuffer\" }, \"template\": [ { \"name\": \"reqUrl\", \"value\": \"{serviceBaseUrl}/client/{clientId}/account/{accountId}/env/TEST/entity/bulkAgents/type/PAGE_DATA_VALUE/download/getBulkAgentsExcel\" }, { \"name\": \"fileName\", \"value\": \"{clientId}-{accountId}-BulkUserCreationTemplate-generated.xls\" } ], \"textStyles\": { \"fontSize\": 13, \"fontWeight\": \"bold\", \"display\": \"inline-flex\", \"lineHeight\": \"25px\", \"verticalAlign\": \"top\" }, \"displayName\": \"Download\" } } }, \"stepTwo\": { \"textTwo\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"stepThree\": { \"ui:options\": { \"disableSeparator\": true }, \"textThree\": { \"ui:field\": \"plaintext\", \"ui:options\": { \"isDisabled\": true, \"fieldSize\": [ 7, 7 ], \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"uploadfile\": { \"ui:field\": \"text\", \"ui:options\": { \"fileReadType\": \"dataurl\", \"mediaType\": \"excel\", \"inputType\": \"file\", \"displayValueType\": \"fileName\", \"inputFileButtonText\": \"BROWSE\", \"showDownloadButton\": false, \"fieldSize\": [ 12, 12 ], \"size\": 10, \"styles\": { \"container\": { \"marginBottom\": \"15px\" }, \"label\": { \"marginBottom\": \"8px\" }, \"field\": {} } } } }, \"fetch\": { \"page\": \"createBulkAgentsLive_p0\" }, \"validation\": { \"enabled\": true, \"type\": \"onchange\" } }', 'Bulk Agents Live', 'Bulk Agents Live Create', 'BULK');

UPDATE `activity_template` SET `entity_location` = '{\"BULK\": {\"entityIdLocation\": \"createBulkAgentsTest_p0.accountId\", \"entityLabelLocation\": \"createBulkAgentsTest_p0.accountId\"}, \"CREATE\": {\"entityIdLocation\": \"createUserTest_p0.tabsField.0.userName\", \"entityLabelLocation\": \"createUserTest_p0.tabsField.0.userName\"}, \"UPDATE\": {\"entityIdLocation\": \"updateUserTest_p0.tabsField.0.key\", \"entityLabelLocation\": \"updateUserTest_p0.tabsField.0.userName\"}}'
WHERE (`id` = 'userTest');

UPDATE `activity_template` SET `entity_location` = '{\"BULK\": {\"entityIdLocation\": \"createBulkAgentsLive_p0.accountId\", \"entityLabelLocation\": \"createBulkAgentsLive_p0.accountId\"}, \"CREATE\": {\"entityIdLocation\": \"createUserLive_p0.tabsField.0.userName\", \"entityLabelLocation\": \"createUserLive_p0.tabsField.0.userName\"}, \"UPDATE\": {\"entityIdLocation\": \"updateUserLive_p0.tabsField.0.key\", \"entityLabelLocation\": \"updateUserLive_p0.tabsField.0.userName\"}}'
WHERE (`id` = 'userLive');

INSERT INTO `activity_page` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `page_order`, `section_name`, `page_template_id`, `activity_template_id`) VALUES
('41', 'default.user', '2021-05-21 09:24:46.000000', 'default.user', '2021-05-21 09:24:46.000000', '1', '', 'createBulkAgentsTest_p0', 'userTest');

INSERT INTO `activity_page` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `page_order`, `section_name`, `page_template_id`, `activity_template_id`) VALUES
('42', 'default.user', '2021-05-21 09:24:46.000000', 'default.user', '2021-05-21 09:24:46.000000', '1', '', 'createBulkAgentsLive_p0', 'userLive');

INSERT INTO `service_urls` (`id`, `created_by`, `created_on`, `last_updated_by`, `last_updated_on`, `baseurl`, `env`, `headers`, `service_id`) VALUES
('14', 'default.user', '2019-06-13 12:13:02.000000', 'default.user', '2019-06-13 12:13:02.000000', 'http://localhost:8090/self-serve/api', 'LIVE', '{}', 'self');


UPDATE `activity_template` SET `configs` = '{\"subHeader\": {\"BULK\": {\"subHeaderTitle\": \"Create or Update existing Assist users in this screen\", \"subHeaderDescription\": \"To create or update one user, switch the bulk upload toggle to off. To create or update multiple users, switch the bulk upload toggle to on.\", \"allowedSubHeaderActions\": [\"BULK_UPLOAD\"]}, \"CREATE\": {\"subHeaderTitle\": \"Create or update existing Assist users in this screen\", \"subHeaderDescription\": \"To create or update one user, switch the bulk upload toggle to off. To create or update multiple users, switch the bulk upload toggle to on.\", \"allowedSubHeaderActions\": [\"BULK_UPLOAD\"]}, \"UPDATE\": {}}, \"publishType\": \"TEST_ONLY\", \"allowedActions\": {\"BULK\": [\"PUBLISH_TO_TEST\", \"BULK_UPLOAD\"], \"CREATE\": [\"PUBLISH_TO_TEST\", \"SAVE_AND_CLOSE\", \"EDIT\", \"BULK_UPLOAD\"], \"UPDATE\": [\"PUBLISH_TO_TEST\", \"EDIT\", \"SAVE_AND_CLOSE\"]}, \"preFetchInputValidation\": \"[^A-Za-z0-9-_ . ,:@]\"}'
WHERE (`id` = 'userTest');

UPDATE `activity_template` SET `configs` = '{\"subHeader\": {\"BULK\": {\"subHeaderTitle\": \"Create or Update existing Assist users in this screen.\", \"subHeaderDescription\": \"To create or update one user, switch the bulk upload toggle to off. To create or update multiple users, switch the bulk upload toggle to on.\", \"allowedSubHeaderActions\": [\"BULK_UPLOAD\"]}, \"CREATE\": {\"subHeaderTitle\": \"Create or update existing Assist users in this screen.\", \"subHeaderDescription\": \"To create or update one user, switch the bulk upload toggle to off. To create or update multiple users, switch the bulk upload toggle to on.\", \"allowedSubHeaderActions\": [\"BULK_UPLOAD\"]}, \"UPDATE\": {}}, \"publishType\": \"LIVE_ONLY\", \"allowedActions\": {\"BULK\": [\"PUBLISH_TO_LIVE\", \"BULK_UPLOAD\"], \"CREATE\": [\"PUBLISH_TO_LIVE\", \"SAVE_AND_CLOSE\", \"EDIT\", \"BULK_UPLOAD\"], \"UPDATE\": [\"PUBLISH_TO_LIVE\", \"EDIT\", \"SAVE_AND_CLOSE\"]}, \"preFetchInputValidation\": \"[^A-Za-z0-9-_ . ,:@]\"}'
WHERE (`id` = 'userLive');





